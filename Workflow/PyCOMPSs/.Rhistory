suppressPackageStartupMessages({
# library(SingleR)
# library(dplyr)
# library(Matrix)
# library(Seurat)
# library(future)
library(pheatmap)
# library(ggplot2)
library(optparse)
library(rmatio)
library(RColorBrewer)
source("physi_eval_utils.R")
})
option_list = list(
make_option(c("-m", "--meta_file"), type="character", default=NULL, help="Metadata file", metavar="character"),
make_option(c("-o", "--outdir"), type="character", default=NULL, help="Output folder", metavar="character"),
# make_option(c("-s", "--serialize"), type="logical", default=F, help="Save Seurat object", metavar="T|F"),
make_option(c("-p", "--model_prefix"), type="character", default=NULL, help="Model prefix", metavar="character"),
# make_option(c("-t", "--cell_type"), type="character", default=NULL, help="Selected cell type", metavar="character"),
make_option(c("-k", "--ko_file"), type="character", default=NULL, help="KO genes file", metavar="character"),
make_option(c("-r", "--reps"), type="integer", default=NULL, help="Number of used simulation replicates", metavar="integer"),
make_option(c("-v", "--verbose"), type="logical", default=T, help="Verbose", metavar="T|F"),
make_option(c("-z", "--results_dir"), type="character", default=NULL, help="Output folder", metavar="character")
)
opt_parser <- OptionParser(option_list=option_list, add_help_option = T)
opt <- parse_args(opt_parser)
# EVALUATE CLI
if (is.null(opt$meta_file)){
print_help(opt_parser)
stop("No metadata file provided", call.=FALSE)
}
source("~/github/projects/PerMedCoE/PilotWorkflow/covid19_pilot_workflow/PyCOMPSs/meta/meta_analysis.R")
